REM generated from ros_environment/env-hooks/1.ros_version.bat.in
setlocal

set qt5dir=
for /f "tokens=* USEBACKQ" %%f in (`where qt5core.dll`) do (
    set qt5dir=%%f
)

if not defined qt5dir (
    goto :eof
)

set basedir=
CALL :getbasedir %qt5dir%

set abspath=
CALL :getabspath %basedir%..\plugins

if not exist %abspath% (
    goto :eof
)

endlocal && set QT_PLUGIN_PATH=%abspath%
goto :eof

:getbasedir
set basedir=%~dp1
goto :eof

:getabspath
set abspath=%~f1
goto :eof